# Rapport – innlevering 4

**Team:** _Karan med varan_ – _Sune_ – _Mathias_ – _Kristian_ – _Vetle_ – _Jonas_ – _Lauritz_

# Prosjektrapport

## 1. Roller

### 1.1. Prosjektleder

    Selv om vi ikke har utnevnt noen til denne rollen direkte, er det likevel blitt naturlig at noen har tatt på seg
    lederrollen. Mathias har hatt god oversikt over hva som skal til for å få prosjektet i mål, og dermed har han 
    fått denne rollen. Dette har utviklet seg naturlig utover prosjektet.

### 1.2. Møteleder

    Sune er fortsatt møteleder, noe som har fungert bra. Det å ha god orden og struktur i møtene, har gjort møtene 
    effektive og oversiktlig. Det har også ført til at de andre har fått konkrete oppgaver å jobbe med. Vi begynte 
    også med en kort kodegjennomgang dersom noe var uklart, noe som har fungert bra.

### 1.3. Trello-ansvarlig

    Jonas regnes fortsatt som trello-ansvarlig, men alle har hatt ansvar for å oppdatere trello med oppgaver de har holdt 
    på med og er ferdige med.
    Dette ser vi på som en suksess og en naturlig utvikling som har gitt oss en god måte å holde oversikt over 
    oppgaver som skal gjøres og er gjort.

### 1.4. Testansvarlig

    Denne rollen er tildelt Kristian, og han har gjort en god jobb med å øke test-coverage på prosjektet. Andre 
    har selvfølgelig også vært involvert i å lage tester, men Kristian har altså hovedansvaret for det, noe som 
    har fungert godt.

### 1.5 Lyd og grafikk

    Rollen ble tildelt til Lauritz, men har også vært noe flytende i gruppa. Vetle fikk f.eks. ansvar for å designe 
    baner, noe han har gjort strålende. Lauritz har designet spiller-figurene og animasjoner for disse, noe som har 
    vært tidkrevende og lite belønnende mtp. commits, men vi er veldig fornøyd med arbeidet hans. Lyder ble også 
    laget av begge.

### 1.6 Strukturansvarlig

    Rollen ble tildelt Vetle, men har også vært naturlig fordelt over hele gruppen. Alle har vært flinke til å holde 
    seg til git-strukturen, og har vært flinke til å lage branches for det de jobber med. 
    Commits/merges har også blitt jevnere siden forrige innlevering. Gjennom prosjektet har det vært en trend at noen har
    til vane å committe oftere enn andre, men dette vil være naturlig. 

### 1.7 Kodestilansvarlig

    Denne rollen er tildelt Mathias, og har fungert bra. Rollen har blitt viktigere og viktigere jo større kodebasen har 
    blitt, og han har løst dette på en god og ryddig måte. Han har underveis kommet med gode forbedringer til koden, både
    hvordan funksjoner kan være implementert annerledes og ryddet opp ting som ikke lenger trengs. 

## 2. Prosjektmetodikk

    Ved å se tilbake på bruken av Kanban-metoden gjennom vårt prosjekt vårt, har vi sett hvor effektiv denne tilnærmingen 
    har vært for oss. Vi har benyttet Trello som vårt Kanban-brett, strukturert med kolonner som Backlog, Doing, Review, 
    Done, Archive og Discarded. Dette oppsettet har gjort det mulig for oss å flytte oppgaver fra venstre til høyre, fra 
    planlegging til fullføring, og til slutt arkivering eller forkasting av mindre relevante oppgaver.

    Kanban-brettet har fungert som en visuell manifestasjon av arbeidsprosessen vår, hvor hver oppgave er representert av 
    kort som flyttes mellom kolonnene. Dette har ikke bare økt vår forståelse av arbeidsflyten, men også forbedret måten vi 
    håndterer arbeidsmengden på. Ved å implementere WIP-grenser har vi effektivt unngått overbelastning og minimert 
    forsinkelser, noe som har vært essensielt for å holde prosjektets tempo og kvalitet.
     
    Den ukentlige gjennomgangen av Kanban-brettet har også spilt en kritisk rolle i prosjektstyringen. Disse møtene har 
    vært nødvendige for å evaluere fremgangen, justere WIP-grenser og prioriteringer etter behov, og sikre at alle 
    teammedlemmer er på samme side. Tilbakemeldingssyklusene har styrket teamets evne til kontinuerlig forbedring og 
    tilpasning gjennom prosjektets levetid.

    Et avgjørende aspekt av vår bruk av Kanban har vært å prioritere nøkkelkomponenter og funksjoner for rask 
    implementering og testing, noe som har gjort at viktige funksjoner har kunnet utvikles tidlig i prosessen. Dette har 
    ikke bare sikret at vi har en fungerende prototype tidlig, men også at tid fra en brukerhistorie er formulert til den 
    er implementert og testet, er betydelig redusert.

    Oppsummert, Kanban har vist seg å være en uvurderlig metode for vårt prosjekt. Det har gitt oss struktur, effektivitet, 
    og en dynamisk tilpasningsevne som har støttet våre mål om å utvikle et robust og vel-dokumentert produkt.
   

## 3. Gruppedynamikk

    I forbindelse med gjennomføringen av vårt prosjekt har gruppedynamikken vist
    seg å være en av de sterkeste sidene ved vårt teamarbeid. Effektiviteten og samarbeidet innad i gruppen har bidratt 
    til en positiv og engasjerende arbeids-atmosfære, noe som har vært essensielt for fremdriften og moralen i prosjektet. 
    Den positive stemningen i gruppen har også lagt grunnlaget for en kultur hvor det er lav terskel for å fremme 
    forslag til forbedringer, kreative løsninger og innovative ideer. Dette har vist seg å være en verdifull ressurs for
    prosjektets utvikling, da det oppmuntrer til åpen dialog og samarbeid. Gjennom denne tilnærmingen har vi oppnådd en
    dynamisk arbeidsprosess hvor alle teammedlemmer føler seg verdsatt og motivert til å bidra med sitt beste.

    Samlet sett har gruppedynamikken spilt en avgjørende rolle for prosjektets fremgang og kvalitet. Vi anser den gode 
    stemningen og det effektive samarbeidet som fundamentale faktorer for vår suksess, og vil fortsette å prioritere disse
    aspektene i videre arbeid.

## 4. Kommunikasjon
    
    Under prosjektet har kommunikasjonen vært effektiv, spesielt gjennom bruk av Discord og Trello for å holde hverandre 
    oppdatert. Vi har hatt regelmessige møter for å diskutere fremdrift og eventuelle utfordringer, og har vært flinke til 
    å oppdatere hverandre på statusen til våre respektive oppgaver. Kodegjennomgang på møtene våre når det har vært noe som 
    har vært  uklart har fungert bra. I tillegg har vi møttes ofte på lesesal, slik at vi har kunnet spørre om og diskutert 
    mindre ting.
  

## 5. Retrospektiv

    I løpet av våre retrospektiv har vi satt søkelyset på å evaluere prosjektstrukturen, internkommunikasjonen i teamet, 
    fordelingen av arbeid og commits-balanse. Gjennom anvendelsen av Kanban og regelmessige møter har vi etablert en solid 
    struktur som har optimalisert vår arbeidsflyt og oppgavehåndtering.

    Internkommunikasjonen har blitt betydelig forbedret ved bruk av Discord og Trello, hvor alle teammedlemmer ble holdt 
    løpende informert og engasjert. 

    Arbeidsfordelingen har blitt mer rettferdig og effektiv, takket være klarere definerte roller og ansvarsområder. 
    Underveis i prosjektet har analysen av commits vist en ujevn fordeling, men med forbedringer mot slutten av prosjektet, 
    har dette blitt jevnet ut ved bedre fordeling av oppgaver og mer effektiv kommunikasjon.

    Disse tiltakene har ikke bare forbedret vår samlede ytelse, men også styrket samarbeidet og tilfredsheten innad i 
    teamet. Hele prosjektet sett i ettertid har vært en lærerik og givende opplevelse, og vi er stolte av det endelige 
    resultatet.


## 6. Arbeidsfordeling

    Arbeidsfordelingen under prosjektet har vært ganske jevn. Selv om det alltid vil være noen som gjør litt mer har vi 
    klart å involvere alle på gruppa mye, og alle har bidratt mye. Dette kommer tydelig fram av commit fordelingen.

    Når det gjelder commit-fordelingen vil vi legge ved noen forklaringer til hvorfor den er noe ujevn. For det første har 
    enkelte gruppemedlemmer litt commits på andre mailer enn sin primære. Både Jonas(12 commits på dothehey@pm.me) og 
    Kristian(16 commits på krjoh3811@uib.no) har noen commits ekstra av denne grunn. I tillegg til dette har enkelte 
    medlemmer gjort arbeid som kan være tidkrevende og viktig, men ikke commit-intensivt. For eksempel har Lauritz tegnet 
    pixel art for spillerne, og Vetle har laget maps ved hjelp av et verktøy som heter, tiled. I tillegg til dette har noen 
    av medlemmene par-programmert en del, og dette har gjort at den ene i parret kanskje har færre commits enn fortjent.

    Med alt dette tatt i betraktning har vi en ganske jevn arbeidsfordeling.


## 7. Forbedringspunkter fra retrospektiv

    - Internkommunikasjon kan alltids bli bedre.
    - Starte tidligere med å skrive tester. 
    - Tørre og spørre hverandre om hjelp.


# Krav og spesifikasjon

## Progresjon i forhold til MVP

    Vi har nå dekket alle kravene i MVP'en. Vi har også kommet et godt stykke forbi dette.
    Ettersom at vi nå er ferdig, er det ikke lenger aktuelt å endre på prioriteringsrekkefølgen for 
    MVP-kravene. Vi har heller ikke sett behovet for å legge til noen krav frem mot siste innlevering.


## Prioriteringer til nå

    Siden forrige innlevering har en av de høyest prioriterte oppgavene vært å forbedre test-coverage. Vi er veldig 
    fornøyde med å kunne si at vi har fått test coverage opp til 75%.

    Vi har også prioritert å fikse kjente bugs. Dette har vi kommet et godt stykke på vei med, og har nå fikset de 
    fleste av disse.

    Siden sist har vi også videreutviklet AI-spilleren til et litt mer avansert nivå. Den har nå et litt mer uforutsigbart 
    handlingsmønster, som gjør at den er ganske mye morsommere å spille mot.
   

## Prioriterte oppgaver fremover

    Ettersom at dette er siste innlevering vil vi ikke ha noen prioriterte oppgaver fremover utover det å forberede 
    presentasjonen av prosjektet vårt.


# Produkt og kode

## Utbedring av feil

    Kjente feil vi listet opp under Oblig3:
    - Spillere kan klistre seg fast på siden av objekter hvis de har beveger seg mot objektet. (Usikkert om dette er
    noe vi ønsker å beholde som en feature, eller om vi ønsker endre dette slik at spilleren faller)
    - Powerups kan spawne inni platformer og ellers "unreachable" områder
    - Powerups kan gi mer en max health, mer enn max liv osv
    - Man kan slå/sparke motspiller uansett hvilken vei man ser.
    - AI faller lett av platform
    - Per nå ingen måte å endre fra 2 spiller modus til 1 spiller mot ai (Vil implementere en ekstra skjerm
    for å velge antall spillere og ønsket map)
    - Noen deler av koden i modellen kan flyttes inn i de aktuelle klassene de håndterer, controllen er også inkonsisten
    på enkelte tilfeller i forhold til kommunikasjon med modell eller direkte til spiller.

    Hva har vi gjort:
    - Spillere kan fortsatt klistre seg til vegger (beholdt som en feature), men vi har gjort endring slik at spiller 
    ikke får jumpcounter blir resatt når dette skjer. 
    - PowerUps spawner ikke lenger inni platformer. Vi sjekker betingelser for å se om senter av powerupens body er inni 
    et platform objekt når vi velger en random posisjon på brettet. Hvis det er en kollisjon her så blir 
    posisjoneringsmetoden kalt på nytt.
    - Fikset at power ups ikke kan overskride max-verdier for liv og hp.
    - Forbedret AI, satt ned hastigheten for å gjøre den mindre "intens", har også lagt til flere valg for random 
    behavior for å gjøre AI litt mer intelligent.
    - Ryddet i modellen og generelt i kodebasen, delt opp kompleks kode i flere hjelpemetoder og ryddet i noen 
    konstruktører. Har også fjernet kode var overflødig.


    Andre feil som ble oppdaget:
    - 
    

## README.md

    Readme.md er opp til dato for spesifikasjoner for å kjøre programmet.
    Programmet kompilerer og kjører på både mac os og Windows, ikke hatt mulighet
    til å teste dette på Linux, men pakke/fil struktur er sjekket for caseing mtp små/store bokstaver så spillet
    skal kompilere på Linux også.
    Her står også alle kilder til ressurser som er brukt i prosjektet.

## Klassediagram

    Klassediagram ligger her: [UML](/doc/hoytekken_uml.png)
    Vi har valgt å ta ut alle enums, for å gjøre det mer oversiktlig.

## Kode

    Prosjektet følger MVC (model-view-controller) struktur. I tillegg har prosjektet en Eventbus som gjør det 
    enkelt å kommunisere Events mellom "fjerne" klasser. Eventbusen ble veldig viktig for å håndtere museklikk 
    i viewet samtidig som vi ønsket å beholde en streng MVC struktur hvor kontrolleren håndterer alt av input.

    - Controller klasse håndterer alt av input.
        - Kommuniserer med modellen for og utfører handlinger på spillet basert på hvilken input som ble registrert

    - View er en består av en abstrakt superklasse, BaseScreen som extender libgdx sin Screen klasse, og subklasser.
    Hver av subklassene representerer en Screen med en tilhørende GameState.
        - Screen klassene tegner alt visuelt.
        - GameLoopen kommer fra render metoden, her kaller den på update i model som oppdaterer resten av mekanikken 
        i spillet.


    - Modellen holder på alt av mekanikk og logikk i spillet. Denne kobles opp mot controller og Screeens
    med Viewable- og ControllableModelInterface som dikterer hvilke deler av prosjektet som skal ha tilgang 
    til hvilke deler av modellen.
        - Selve model klassen knytter alle components sammen.
            - Sprites -- Player, PowerUps
            - Box2d -- World generator
            - ContactListener/Collision detector som lager events hver gang objekter i Box2d physics world kolliderer
            - Eventbus

    - Hoytekken Game/ApplicationListener. Denne klassen knytter alle delene av prosjektet sammen og kjøres i main.
        - create() oppretter
            - spritebatchen for spillet
            - modellen
            - controller
            - View/Screen
            - EventBus

    - Testing. Vi har jobbet mye med testing siden forrige oblig og fått opp testcoverage. Vi fant en løsning for å 
    få testet store deler av viewet, og har lagt til flere tester for edge cases på andre områder som ikke var dekket 
    av testene.
    - Alt av kode, klasser, interface, metoder, osv... er dokumentert med Javadoc.

## kjente feil

   
    
